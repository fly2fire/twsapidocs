<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API: Basic Orders</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
    $("ul#tabs li").click(function(e){
        if (!$(this).hasClass("active")) {
            var tabNum = $(this).index();
            var nthChild = tabNum+1;
            $("ul#tabs li.active").removeClass("active");
            $(this).addClass("active");
            $("ul#tab li.active").removeClass("active");
            $("ul#tab li:nth-child("+nthChild+")").addClass("active");
        }
    });
});
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0" >
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li></ul>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('basic_orders.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Basic Orders </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="auction"></a>
Auction</h1>
<p>An <a href="http://individuals.interactivebrokers.com/en/trading/orders/auction.php?ib_entity=llc" target="_blank" class="linkexternal">Auction</a> order is entered into the electronic trading system during the pre-market opening period for execution at the Calculated Opening Price (COP). If your order is not filled on the open, the order is re-submitted as a limit order with the limit price set to the COP or the best bid/ask after the market opens. </p>
<ul>
<li>
Products: FUT, STK </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/?f=%2Fen%2Ftrading%2ForderTypeExchanges.php%3Fot%3Dauc" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.Tif = <span class="stringliteral">&quot;AUC&quot;</span>;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MTL&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
<div class="line">            order.LmtPrice = price;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.Tif = <span class="stringliteral">&quot;AUC&quot;</span></div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MTL&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
<div class="line">            order.LmtPrice = price</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="discretionary"></a>
Discretionary</h1>
<p>An <a href="http://individuals.interactivebrokers.com/en/trading/orders/discretionary.php?ib_entity=llc" target="_blank" class="linkexternal">Discretionary</a> order is a limit order submitted with a hidden, specified 'discretionary' amount off the limit price which may be used to increase the price range over which the limit order is eligible to execute. The market sees only the limit price. </p>
<ul>
<li>
Products: STK </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/?f=%2Fen%2Ftrading%2ForderTypeExchanges.php%3Fot%3Dauc" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;LMT&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
<div class="line">            order.LmtPrice = price;</div>
<div class="line">            order.DiscretionaryAmt = discretionaryAmount;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;LMT&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
<div class="line">            order.LmtPrice = price</div>
<div class="line">            order.DiscretionaryAmt = discretionaryAmount</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="market"></a>
Market</h1>
<p>A <a href="http://individuals.interactivebrokers.com/en/trading/orders/market.php?ib_entity=llc" target="_blank" class="linkexternal">Market</a> order is an order to buy or sell at the market bid or offer price. A market order may increase the likelihood of a fill and the speed of execution, but unlike the Limit order a Market order provides no price protection and may fill at a price far lower/higher than the current displayed bid/ask. </p>
<ul>
<li>
Products: BOND, CFD, EFP, CASH, FUND, FUT, FOP, OPT, STK, WAR </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/trading/orderTypeExchanges.php?ot=mkt" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MKT&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MKT&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    Order order;</div>
<div class="line">    order.action = action;</div>
<div class="line">    order.orderType = <span class="stringliteral">&quot;MKT&quot;</span>;</div>
<div class="line">    order.totalQuantity = quantity;</div>
</div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="market_if_touched"></a>
Market If Touched</h1>
<p>A <a href="http://individuals.interactivebrokers.com/en/trading/orders/mit.php?ib_entity=llc" target="_blank" class="linkexternal">Market If Touched</a> (MIT) is an order to buy (or sell) a contract below (or above) the market. Its purpose is to take advantage of sudden or unexpected changes in share or other prices and provides investors with a trigger price to set an order in motion. Investors may be waiting for excessive strength (or weakness) to cease, which might be represented by a specific price point. MIT orders can be used to determine whether or not to enter the market once a specific price level has been achieved. This order is held in the system until the trigger price is touched, and is then submitted as a market order. An MIT order is similar to a stop order, except that an MIT sell order is placed above the current market price, and a stop sell order is placed below </p>
<ul>
<li>
Products: BOND, CFD, CASH, FUT, FOP, OPT, STK, WAR </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/trading/orderTypeExchanges.php?ot=mit" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MIT&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
<div class="line">            order.AuxPrice = price;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MIT&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
<div class="line">            order.AuxPrice = price</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="market_on_close"></a>
Market On Close</h1>
<p>A <a href="http://individuals.interactivebrokers.com/en/trading/orders/moc.php?ib_entity=llc" target="_blank" class="linkexternal">Market On Close</a> (MOC) order is a market order that is submitted to execute as close to the closing price as possible. </p>
<ul>
<li>
Products: CFD, FUT, STK, WAR </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/trading/orderTypeExchanges.php?ot=moc" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MOC&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MOC&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="market_on_open"></a>
Market On Open</h1>
<p>A <a href="http://individuals.interactivebrokers.com/en/trading/orders/moo.php?ib_entity=llc" target="_blank" class="linkexternal">Market On Open</a> (MOO) combines a market order with the OPG time in force to create an order that is automatically submitted at the market's open and fills at the market price. </p>
<ul>
<li>
Products: CFD, FUT, STK, WAR </li>
<li>
<a href="https://individuals.interactivebrokers.com/en/trading/orderTypeExchanges.php?ot=moo" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MKT&quot;</span>;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
<div class="line">            order.Tif = <span class="stringliteral">&quot;OPG&quot;</span>;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">            Dim order As Order = New Order</div>
<div class="line">            order.Action = action</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;MKT&quot;</span></div>
<div class="line">            order.TotalQuantity = quantity</div>
<div class="line">            order.Tif = <span class="stringliteral">&quot;OPG&quot;</span></div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="pegged_benchmark"></a>
Pegged to Benchmark</h1>
<p>The <a href="https://www.interactivebrokers.com/en/index.php?f=7100" target="_blank" class="linkexternal">Pegged to Benchmark </a> order is similar to the Pegged to Stock order for options, except that the Pegged to Benchmark allows you to specify any asset type as the reference (benchmark) contract for a stock or option order. Both the primary and reference contracts must use the same currency. </p>
<ul>
<li>
Products: STK, OPT </li>
<li>
<a href="https://www.interactivebrokers.com/en/index.php?f=3883?ot=pegbench" target="_blank" class="linkexternal">Supported exchanges</a> </li>
</ul>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            Order order = <span class="keyword">new</span> Order();</div>
<div class="line">            order.OrderType = <span class="stringliteral">&quot;PEG BENCH&quot;</span>;</div>
<div class="line">            <span class="comment">//BUY or SELL</span></div>
<div class="line">            order.Action = action;</div>
<div class="line">            order.TotalQuantity = quantity;</div>
<div class="line">            <span class="comment">//Beginning with price...</span></div>
<div class="line">            order.StartingPrice = startingPrice;</div>
<div class="line">            <span class="comment">//increase/decrease price..</span></div>
<div class="line">            order.IsPeggedChangeAmountDecrease = peggedChangeAmountDecrease;</div>
<div class="line">            <span class="comment">//by... (and likewise for price moving in opposite direction)</span></div>
<div class="line">            order.PeggedChangeAmount = peggedChangeAmount;</div>
<div class="line">            <span class="comment">//whenever there is a price change of...</span></div>
<div class="line">            order.ReferenceChangeAmount = referenceChangeAmount;</div>
<div class="line">            <span class="comment">//in the reference contract...</span></div>
<div class="line">            order.ReferenceContractId = referenceConId;</div>
<div class="line">            <span class="comment">//being traded at...</span></div>
<div class="line">            order.ReferenceExchange = referenceExchange;</div>
<div class="line">            <span class="comment">//starting reference price is...</span></div>
<div class="line">            order.StockRefPrice = stockReferencePrice;</div>
<div class="line">            <span class="comment">//Keep order active as long as reference contract trades between...</span></div>
<div class="line">            order.StockRangeLower = referenceContractLowerRange;</div>
<div class="line">            <span class="comment">//and...</span></div>
<div class="line">            order.StockRangeUpper = referenceContractUpperRange;</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">WARNING: This site is under construction and as such pending revision and official approval from Interactive Brokers - Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
</body>
</html>
